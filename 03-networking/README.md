<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >=0.13.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_google"></a> [google](#provider\_google) | n/a |
| <a name="provider_terraform"></a> [terraform](#provider\_terraform) | n/a |

## Modules

| Name | Source | Version |
|------|--------|---------|
| <a name="module_cloud-nat"></a> [cloud-nat](#module\_cloud-nat) | terraform-google-modules/cloud-nat/google | ~> 5.0 |
| <a name="module_cloud_router"></a> [cloud\_router](#module\_cloud\_router) | terraform-google-modules/cloud-router/google | ~> 6.0 |
| <a name="module_ha_vpn"></a> [ha\_vpn](#module\_ha\_vpn) | terraform-google-modules/vpn/google//modules/vpn_ha | ~> 4.0 |
| <a name="module_network"></a> [network](#module\_network) | terraform-google-modules/network/google | ~> 8.1 |
| <a name="module_peering"></a> [peering](#module\_peering) | terraform-google-modules/network/google//modules/network-peering | ~> 8.1 |

## Resources

| Name | Type |
|------|------|
| [google_compute_subnetwork_iam_member.networkuser](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/compute_subnetwork_iam_member) | resource |
| [terraform_remote_state.bootstrap](https://registry.terraform.io/providers/hashicorp/terraform/latest/docs/data-sources/remote_state) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_ha_vpn"></a> [ha\_vpn](#input\_ha\_vpn) | HA-VPN creation. | <pre>list(object({<br>    parent_name          = optional(string, null), # (When parent_complete_name is not specified) Completed with '[PROJECT_PREFIX]-[COMPANY_ABBREVIATION]-[PARENT_NAME]'.<br>    parent_complete_name = optional(string, null), # Project ID<br>    name                 = optional(string, null), # (When complete_name is not specified) Completed with '[VPN_PREFIX]-[COMPANY_ABBREVIATION]-[NAME]'.<br>    complete_name        = optional(string, null), # VPN name<br>    peer_external_gateway = optional(object({      # Configuration of an external VPN gateway to which this VPN is connected.<br>      name            = optional(string)           # Gateway name<br>      redundancy_type = optional(string)           # Possible values: "FOUR_IPS_REDUNDANCY", "SINGLE_IP_INTERNALLY_REDUNDANT", "TWO_IPS_REDUNDANCY"<br>      interfaces = list(object({<br>        id         = number<br>        ip_address = string<br>      }))<br>    }), null),<br>    peer_gcp_gateway      = optional(string, null) # Self Link URL of the peer side HA GCP VPN gateway to which this VPN tunnel is connected.<br>    stack_type            = optional(string, null) # The IP stack type will apply to all the tunnels associated with this VPN gateway.<br>    network_name          = optional(string, null) # (When network_complete_name is not specified) Completed with '[VPC_PREFIX]-[COMPANY_ABBREVIATION]-[NETWORK_NAME]'.<br>    network_complete_name = optional(string, null) # VPN name<br>    region                = optional(string, null)<br>    route_priority        = optional(number, 1000)<br>    keepalive_interval    = optional(number, 20)<br>    router_name           = optional(string, null), # (When router_complete_name is not specified) Completed with '[ROUTER_PREFIX]-[COMPANY_ABBREVIATION]-[ROUTER_NAME]'.<br>    router_complete_name  = optional(string, null), # Router Name<br>    tunnels = optional(map(object({                 # VPN tunnel configurations, bgp_peer_options is usually null.<br>      bgp_peer = object({<br>        address = string<br>        asn     = number<br>      })<br>      bgp_session_name = optional(string)<br>      bgp_peer_options = optional(object({<br>        ip_address          = optional(string)<br>        advertise_groups    = optional(list(string))<br>        advertise_ip_ranges = optional(map(string))<br>        advertise_mode      = optional(string)<br>        route_priority      = optional(number)<br>      }))<br>      bgp_session_range               = optional(string)<br>      ike_version                     = optional(number)<br>      vpn_gateway_interface           = optional(number)<br>      peer_external_gateway_self_link = optional(string, null)<br>      peer_external_gateway_interface = optional(number)<br>      shared_secret                   = optional(string, "")<br>    })), {})<br>    vpn_gateway_self_link            = optional(string, null)<br>    create_vpn_gateway               = optional(bool, true)<br>    labels                           = optional(map(string), {})<br>    external_vpn_gateway_description = optional(string)<br>  }))</pre> | `[]` | no |
| <a name="input_iam_subnets"></a> [iam\_subnets](#input\_iam\_subnets) | Role of Compute Network User to the members indicated | <pre>list(object({<br>    parent_name          = optional(string, null), # (When parent_complete_name is not specified) Completed with '[PROJECT_PREFIX]-[COMPANY_ABBREVIATION]-[PARENT_NAME]'.<br>    parent_complete_name = optional(string, null), # Project ID<br>    subnet_name          = optional(string, null), # (When subnet_complete_name is not specified) Completed with '[SUBNET_PREFIX]-[COMPANY_ABBREVIATION]-[SUBNET_NAME]'.<br>    subnet_complete_name = optional(string, null), # Subnet name<br>    member               = string                  # Identities that will be granted the role. Possible values: "allUsers", "allAuthenticatedUsers", "user:{emailid}", "serviceAccount:{emailid}", "group:{emailid}"<br>    region               = optional(string, null)<br>  }))</pre> | `[]` | no |
| <a name="input_nat_prefix"></a> [nat\_prefix](#input\_nat\_prefix) | Nat prefix following naming convention | `string` | `"nat"` | no |
| <a name="input_nats"></a> [nats](#input\_nats) | NAT creation. | <pre>list(object({<br>    parent_name                        = optional(string, null), # (When parent_complete_name is not specified) Completed with '[PROJECT_PREFIX]-[COMPANY_ABBREVIATION]-[PARENT_NAME]'.<br>    parent_complete_name               = optional(string, null), # Project ID<br>    name                               = optional(string, null), # (When complete_name is not specified) Completed with '[NAT_PREFIX]-[COMPANY_ABBREVIATION]-[NAME]'.<br>    complete_name                      = optional(string, null), # NAT name<br>    region                             = optional(string, null),<br>    icmp_idle_timeout_sec              = optional(string, "30"),<br>    min_ports_per_vm                   = optional(string, "64"),<br>    max_ports_per_vm                   = optional(string, null),<br>    nat_ips                            = optional(list(string), []),<br>    router_name                        = optional(string, null),                            # (When router_complete_name is not specified) Completed with '[ROUTER_PREFIX]-[COMPANY_ABBREVIATION]-[ROUTER_NAME]'.<br>    router_complete_name               = optional(string, null),                            # Router name<br>    source_subnetwork_ip_ranges_to_nat = optional(string, "ALL_SUBNETWORKS_ALL_IP_RANGES"), # Possible values: "ALL_SUBNETWORKS_ALL_IP_RANGES", "ALL_SUBNETWORKS_ALL_PRIMARY_IP_RANGES", "LIST_OF_SUBNETWORKS"<br>    tcp_established_idle_timeout_sec   = optional(string, "1200"),<br>    tcp_transitory_idle_timeout_sec    = optional(string, "30"),<br>    tcp_time_wait_timeout_sec          = optional(string, "120"),<br>    udp_idle_timeout_sec               = optional(string, "30"),<br>    subnetworks = optional(list(object({ # Specifies one or more subnetwork NAT configurations<br>      name                     = string,<br>      source_ip_ranges_to_nat  = list(string)<br>      secondary_ip_range_names = list(string)<br>    })), [])<br>    log_config_enable                   = optional(bool, false),<br>    log_config_filter                   = optional(string, "ALL"),<br>    enable_dynamic_port_allocation      = optional(bool, false),<br>    enable_endpoint_independent_mapping = optional(bool, false)<br>  }))</pre> | `[]` | no |
| <a name="input_networks"></a> [networks](#input\_networks) | VPC creation, including Subnets, Routes and Firewall | <pre>list(object(<br>    {<br>      parent_name          = optional(string, null),        # (When parent_complete_name is not specified) Completed with '[PROJECT_PREFIX]-[COMPANY_ABBREVIATION]-[PARENT_NAME]'.<br>      parent_complete_name = optional(string, null),        # Project ID.<br>      name                 = optional(string, null),        # (When complete_name is not specified) Completed with '[VPC_PREFIX]-[COMPANY_ABBREVIATION]-[NAME]'.<br>      complete_name        = optional(string, null),        # VPC Name.<br>      routing_mode         = optional(string, "GLOBAL")     # The network routing mode (default 'GLOBAL')<br>      subnets = list(object({                               # list of subnets being created<br>        subnet_name                      = optional(string) # (When subnet_complete_name is not specified) Completed with '[SUBNET_PREFIX]-[COMPANY_ABBREVIATION]-[SUBNET_NAME]'.<br>        subnet_complete_name             = optional(string) # Subnet Name<br>        subnet_ip                        = string<br>        subnet_region                    = optional(string)<br>        subnet_private_access            = optional(string, "false")<br>        subnet_private_ipv6_access       = optional(string) # Possible values "EXTERNAL", "INTERNAL"<br>        subnet_flow_logs                 = optional(string)<br>        subnet_flow_logs_interval        = optional(string)<br>        subnet_flow_logs_sampling        = optional(string)<br>        subnet_flow_logs_metadata        = optional(string)<br>        subnet_flow_logs_filter          = optional(string)<br>        subnet_flow_logs_metadata_fields = optional(list(string))<br>        description                      = optional(string)<br>        purpose                          = optional(string) # Possible values "PRIVATE_RFC_1918", "REGIONAL_MANAGED_PROXY", "GLOBAL_MANAGED_PROXY", "PRIVATE_SERVICE_CONNECT", "PRIVATE_NAT"<br>        role                             = optional(string) # Possible values "ACTIVE" , "BACKUP". Only used when purpose is REGIONAL_MANAGED_PROXY<br>        stack_type                       = optional(string)<br>        ipv6_access_type                 = optional(string)<br>      }))<br>      secondary_ranges                       = optional(map(list(object({ range_name = string, ip_cidr_range = string }))), {}) # { range_name = SUBNET_NAME, ip_cidr_range = secondary range}<br>      routes                                 = optional(list(map(string)), [])                                                  # List of routes being created in this VPC<br>      delete_default_internet_gateway_routes = optional(bool, false)                                                            # If set, ensure that all routes within the network specified whose names begin with 'default-route' and with a next hop of 'default-internet-gateway' are deleted<br>      description                            = optional(string, "Managed by Terraform")<br>      auto_create_subnetworks                = optional(bool, false) # When set to true, the network is created in 'auto subnet mode' and it will create a subnet for each region automatically across the 10.128.0.0/9 address range. When set to false, the network is created in 'custom subnet mode' so the user can explicitly connect subnetwork resources.<br>      mtu                                    = optional(number, 0)   # The network MTU (If set to 0, meaning MTU is unset - defaults to '1460'). Recommended values: 1460 (default for historic reasons), 1500 (Internet default), or 8896 (for Jumbo packets). Allowed are all values in the range 1300 to 8896, inclusively.<br>      ingress_rules = optional(list(object({                         # List of ingress rules. This will be ignored if variable 'rules' is non-empty<br>        name                    = string                             # Firewall Name<br>        description             = optional(string, null)<br>        disabled                = optional(bool, null)<br>        priority                = optional(number, null)<br>        destination_ranges      = optional(list(string), [])<br>        source_ranges           = optional(list(string), [])<br>        source_tags             = optional(list(string))<br>        source_service_accounts = optional(list(string))<br>        target_tags             = optional(list(string))<br>        target_service_accounts = optional(list(string))<br><br>        allow = optional(list(object({ # Allow conditions<br>          protocol = string            # Possible values: "TCP", "UDP", "ICMP", "ESP", "AH", "SCTP", "IPIP", "ALL" or a number.<br>          ports    = optional(list(string))<br>        })), [])<br>        deny = optional(list(object({ # Deny conditions<br>          protocol = string           # Possible values: "TCP", "UDP", "ICMP", "ESP", "AH", "SCTP", "IPIP", "ALL" or a number.<br>          ports    = optional(list(string))<br>        })), [])<br>        log_config = optional(object({<br>          metadata = string<br>        }))<br>      })), [])<br>      egress_rules = optional(list(object({ # List of egress rules. This will be ignored if variable 'rules' is non-empty<br>        name                    = string    # Firewall Name<br>        description             = optional(string, null)<br>        disabled                = optional(bool, null)<br>        priority                = optional(number, null)<br>        destination_ranges      = optional(list(string), [])<br>        source_ranges           = optional(list(string), [])<br>        source_tags             = optional(list(string))<br>        source_service_accounts = optional(list(string))<br>        target_tags             = optional(list(string))<br>        target_service_accounts = optional(list(string))<br><br>        allow = optional(list(object({ # Allow conditions<br>          protocol = string            # Possible values: "TCP", "UDP", "ICMP", "ESP", "AH", "SCTP", "IPIP", "ALL" or a number.<br>          ports    = optional(list(string))<br>        })), [])<br>        deny = optional(list(object({ # Deny conditions<br>          protocol = string           # Possible values: "TCP", "UDP", "ICMP", "ESP", "AH", "SCTP", "IPIP", "ALL" or a number.<br>          ports    = optional(list(string))<br>        })), [])<br>        log_config = optional(object({<br>          metadata = string<br>        }))<br>      })), [])<br>    }<br>  ))</pre> | `[]` | no |
| <a name="input_peerings"></a> [peerings](#input\_peerings) | Peering between VPCs indicated. | <pre>list(object({<br>    local_network_name          = optional(string, null) # (When local_network_complete_name is not specified) Completed with '[VPC_PREFIX]-[COMPANY_ABBREVIATION]-[LOCAL_NETWORK_NAME]'.<br>    local_network_complete_name = optional(string, null) # Local VPC network name.<br>    peer_network_name           = optional(string, null) # (When peer_network_complete_name is not specified) Completed with '[VPC_PREFIX]-[COMPANY_ABBREVIATION]-[PEER_NETWORK_NAME]'.<br>    peer_network_complete_name  = optional(string, null) # Peer VPC network name.<br>    local_project_name          = optional(string, null) # (When local_project_name is not specified) Completed with '[PROJECT_PREFIX]-[COMPANY_ABBREVIATION]-[LOCAL_PROJECT_NAME]'.<br>    local_project_complete_name = optional(string, null) # Local Project ID<br>    peer_project_name           = optional(string, null) # (When peer_project_name is not specified) Completed with '[PROJECT_PREFIX]-[COMPANY_ABBREVIATION]-[PEER_PROJECT_NAME]'.<br>    peer_project_complete_name  = optional(string, null) # Peer Project ID.<br><br>    export_peer_custom_routes                 = optional(bool, true) # Export custom routes to local network from peer network.<br>    export_local_custom_routes                = optional(bool, true) # Export custom routes to peer network from local network.<br>    export_peer_subnet_routes_with_public_ip  = optional(bool, true) # Export custom routes to local network from peer network<br>    export_local_subnet_routes_with_public_ip = optional(bool, true) # Export custom routes to peer network from local network<br>    stack_type                                = optional(string, "IPV4_ONLY")<br>  }))</pre> | `[]` | no |
| <a name="input_router_prefix"></a> [router\_prefix](#input\_router\_prefix) | Router prefix following naming convention | `string` | `"cr"` | no |
| <a name="input_routers"></a> [routers](#input\_routers) | Cloud Routers creation. | <pre>list(object({<br>    parent_name           = optional(string, null), # (When parent_complete_name is not specified) Completed with '[PROJECT_PREFIX]-[COMPANY_ABBREVIATION]-[PARENT_NAME]'.<br>    parent_complete_name  = optional(string, null), # Project ID.<br>    name                  = optional(string, null), # (When complete_name is not specified) Completed with '[ROUTER_PREFIX]-[COMPANY_ABBREVIATION]-[NAME]'.<br>    complete_name         = optional(string, null), # Router Name.<br>    network_name          = optional(string, null)  # (When network_complete_name is not specified) Completed with '[VPC_PREFIX]-[COMPANY_ABBREVIATION]-[NETWORK_NAME]'.<br>    network_complete_name = optional(string, null)  # VPC name.<br>    region                = optional(string, null)<br>    description           = optional(string, "Managed by Terraform")<br>    bgp = optional(object({<br>      asn               = string<br>      advertise_mode    = optional(string, "CUSTOM")<br>      advertised_groups = optional(list(string))<br>      advertised_ip_ranges = optional(list(object({<br>        range       = string<br>        description = optional(string)<br>      })), [])<br>      keepalive_interval = optional(number)<br>    }), null)<br>  }))</pre> | `[]` | no |
| <a name="input_subnet_prefix"></a> [subnet\_prefix](#input\_subnet\_prefix) | Subnet prefix following naming convention | `string` | `"snet"` | no |
| <a name="input_vpc_prefix"></a> [vpc\_prefix](#input\_vpc\_prefix) | VPC prefix following naming convention | `string` | `"vpc"` | no |
| <a name="input_vpn_prefix"></a> [vpn\_prefix](#input\_vpn\_prefix) | VPN prefix following naming convention | `string` | `"vpn"` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_cloud_nat"></a> [cloud\_nat](#output\_cloud\_nat) | n/a |
| <a name="output_cloud_router"></a> [cloud\_router](#output\_cloud\_router) | n/a |
| <a name="output_ha_vpn"></a> [ha\_vpn](#output\_ha\_vpn) | n/a |
| <a name="output_iam_network_user"></a> [iam\_network\_user](#output\_iam\_network\_user) | n/a |
| <a name="output_peering"></a> [peering](#output\_peering) | n/a |
| <a name="output_subnets"></a> [subnets](#output\_subnets) | n/a |
| <a name="output_vpcs"></a> [vpcs](#output\_vpcs) | n/a |
<!-- END_TF_DOCS -->